# Highload_Cloud_mail.ru
Облако mail.ru - облачный сервис для хренения и обмена файлами, популярный на территории стран СНГ.

### Функционал MVP:
- Регистрация, авторизация;
- Загрузка и удаление файлов;
- Скачивание файла с хранилища;
- Создание директорий и перемещение файлов между ними;
- Показ списка всех файлов директории (листинг);
- Уравление видимостью файлов (недоступно никому кроме владельца, доступно только по ссылке, доступно всем).

### Целевая аудитория [[1]](#источники):
| Страна         | Процент аудитории | 
|--------------------|-------------------|
| **Россия**    | 86.48%          |
| **Беларусь**          | 3.23%         |
| **Казахстан**| 3.07%          |
| **Турция**          | 1.32%        |

#### Известно [[2]](#источники):
- MAU (2022): 23 млн пользователей. 
- DAU (2022): 2,5 млн.

#### Предположение:
В 2025 можно взять x1.5 по числу пользователей. 

### Продуктовые метрики:
- 35M MAU;
- 4M DAU;
- Общий объем данных 335 петабайт [[3]](#источники);
- Пользователи загрузили 5,8 млрд файлов (за 2 месяца в 2025) [[3]](#источники).

#### Известно [[3]](#источники):
- Количество хранимых уникальных файлов (2025): 45,5 млрд+.
- Количество уникальных фотографий (2025) составило 28 млрд, а объём — 70 петабайт. 
- Количество видеофайлов составило 2,5 млрд.

#### Предположение:
Пусть средний размер стороннего файла составляет ~5 МБ.
Тогда видео заниют `335 ПБ - 70 ПБ - (15млрд * 5 МБ) = 190 ПБ`
и составляют 56.7% всего хранилища

### Размер хранения:
| Тип файлов         | Количество файлов | Объём (ПБ) | Доля от общего объёма | Средний размер файла |
|--------------------|-------------------|------------|----------------------|----------------------|
| **Фотографии**     | 28 млрд          | 70 ПБ      | 20.9%               | ~2.5 МБ             |
| **Видео**          | 2,5 млрд         | 190 ПБ     | 56.7%               | ~76 МБ               |
| **Сторонние файлы**| 15 млрд          | 75 ПБ      | 22.4%               | ~5 МБ               |
| **Всего**          | 45,5 млрд        | 335 ПБ     | 100%                | ~7.4 МБ             |


### RRS по API:
| Метод API                     | Формула расчета                          | Средний RPS | Пиковый RPS (x2.5) |
|-------------------------------|------------------------------------------|-------------|---------------------|
| **Авторизация**               | `4 млн / 86400 с`                        | 50          | 125                 |
| **Регистрация**               | `50 RPS * 0.01`                          | 0.5         | 1.3                 |
| **Загрузка файла**            | `2.9 млрд / (31 д * 86400 с)`                | 1100        | 2750                |
| **Удаление файла**            | `1000 * 0.2`                             | 200         | 500                 |
| **Скачивание файла**          | `1100 RPS * 2.5`                         | 2750        | 6875                |
| **Создание директории**       | `50 RPS * 0.1`                           | 5           | 12.5                |
| **Листинг файлов**            | `50 RPS * 5 стр/сессию`                             | 250         | 625                 |
| **Изменение видимости файла** | `250 RPS * 15 файлов * 0.05`             | 200         | 500                 |
| **Итого** | `Сумма RPS`         | **~4500**          | **~11250**          |

### Источники:
1. [Be1.ru - Статистика Cloud.Mail.ru](https://be1.ru/stat/cloud.mail.ru)
2. [habr.com - данные о пользователях за 2022](https://habr.com/ru/news/711772/?ysclid=mfbpt8ybjf200216558)
3. [habr.com - данные о данных в 2025](https://habr.com/ru/news/887932/)
